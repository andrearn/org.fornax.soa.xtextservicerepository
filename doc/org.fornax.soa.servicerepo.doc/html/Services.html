<html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Services</title><link href="book.css" rel="stylesheet" type="text/css"><meta content="DocBook XSL Stylesheets V1.75.2" name="generator"><style type="text/css">
body { background-image: url('http://docbook.sourceforge.net/release/images/draft.png');
       background-repeat: no-repeat;
       background-position: top left;
       /* The following properties make the watermark "fixed" on the page. */
       /* I think that's just a bit too distracting for the reader... */
       /* background-attachment: fixed; */
       /* background-position: center center; */
     }</style><link rel="home" href="index.html" title="Xtext Service Repository User Manual"><link rel="up" href="ServiceDSL.html" title="Chapter&nbsp;2.&nbsp;Service DSL"><link rel="prev" href="DataTypes.html" title="Types"><link rel="next" href="ch02s06.html" title="Exceptions"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section" title="Services"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Services"></a>Services</h2></div></div></div><div class="section" title="General service properties"><div class="titlepage"><div><div><h3 class="title"><a name="General service properties"></a>General service properties</h3></div></div></div><div class="section"><div class="titlepage"></div><div class="section" title="Public services"><div class="titlepage"><div><div><h5 class="title"><a name="PublicServices"></a>Public services</h5></div></div></div><p>Public services comprice the official API and should be generally used. Public services
						may depend, i.e. <code class="code">require</code> a private service. Hence, such a public service would 
						wrap the <code class="code">require</code>d private service.</p><p>Public services may only use the canonical datamodel to be reusable.</p></div><div class="section" title="Domain services"><div class="titlepage"><div><div><h5 class="title"><a name="DomainServices"></a>Domain services</h5></div></div></div>
						Domain services are some more restricted in their usage. They can only be called from services defined
						in the same namespace or one of it's subnamespaces.
					</div><div class="section" title="Private services"><div class="titlepage"><div><div><h5 class="title"><a name="PrivateService"></a>Private services</h5></div></div></div>
						Private service are internal API that should be wrapped by public or domain services. Private services
						can only be called from wrapping public and domain services. While they can be called from other 
						private services as well, this is regarded bad design and should be refactered to call their wrapping public services. 
					</div></div><div class="section"><div class="titlepage"></div>
					Every service has a name, version, lifecycle state and governance approval state.					
				</div></div><div class="section" title="Defining services"><div class="titlepage"><div><div><h3 class="title"><a name="ServiceSyntax"></a>Defining services</h3></div></div></div>
				A service is defined in a domain namespace or internal namespace like this:
				<div class="example"><a name="N10225"></a><p class="title"><b>Example&nbsp;2.7.&nbsp;</b></p><div class="example-contents"><a name="optionalAttribute"></a><pre class="programlisting">
	/*
		The CustomerEntityService loads, stores and find Customer instances
	*/
	public service CustomerEntityService {
		metadata {
			version 1.0
			lifecycle-state proposed
			governance-approval {
				yes
				approval-date "20.04.2011"
				approved-by "Anna Jacobson"
			}
			category entity
			statefulness stateful
			persistence read/write
		}
		
		// operations go here:
		sync getCustomerByName (optional firstName : string, lastname : string) 
			returns optional customers : Customer [] majorVersion 1
			throws CustomerNotFoundException 
		{
			requires SomeBackendService majorVersion 1
		}
	}
				</pre></div></div><br class="example-break"></div><div class="section" title="Service meta data"><div class="titlepage"><div><div><h3 class="title"><a name="ServiceMetadata"></a>Service meta data</h3></div></div></div></div><div class="section" title="Operations"><div class="titlepage"><div><div><h3 class="title"><a name="Operations"></a>Operations</h3></div></div></div></div><div class="section" title="Parameters"><div class="titlepage"><div><div><h3 class="title"><a name="Parameters"></a>Parameters</h3></div></div></div></div></div></body></html>