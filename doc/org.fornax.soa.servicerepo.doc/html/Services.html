<html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Services</title><link href="book.css" rel="stylesheet" type="text/css"><meta content="DocBook XSL Stylesheets V1.75.2" name="generator"><style type="text/css">
body { background-image: url('http://docbook.sourceforge.net/release/images/draft.png');
       background-repeat: no-repeat;
       background-position: top left;
       /* The following properties make the watermark "fixed" on the page. */
       /* I think that's just a bit too distracting for the reader... */
       /* background-attachment: fixed; */
       /* background-position: center center; */
     }</style><link rel="home" href="index.html" title="Xtext Service Repository User Manual"><link rel="up" href="ServiceDSL.html" title="Chapter&nbsp;3.&nbsp;Service DSL"><link rel="prev" href="DataTypes.html" title="Types"><link rel="next" href="ch03s06.html" title="Exceptions"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section" title="Services"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Services"></a>Services</h2></div></div></div><div class="section" title="General service properties"><div class="titlepage"><div><div><h3 class="title"><a name="General service properties"></a>General service properties</h3></div></div></div><div class="section"><div class="titlepage"></div><div class="section" title="Public services"><div class="titlepage"><div><div><h5 class="title"><a name="PublicServices"></a>Public services</h5></div></div></div><p>Public services comprice the official API and should be generally used. Public services
						may depend, i.e. <code class="code">require</code> a private service. Hence, such a public service would 
						wrap the <code class="code">require</code>d private service.</p><p>Public services may only use the canonical datamodel to be reusable.</p></div><div class="section" title="Domain services"><div class="titlepage"><div><div><h5 class="title"><a name="DomainServices"></a>Domain services</h5></div></div></div>
						Domain services are some more restricted in their usage. They can only be called from services defined
						in the same namespace or one of it's subnamespaces. Domain services may only use the canonical datamodel to be reusable.
					</div><div class="section" title="Private services"><div class="titlepage"><div><div><h5 class="title"><a name="PrivateService"></a>Private services</h5></div></div></div>
						Private service are internal API that should be wrapped by public or domain services. Private services
						can only be called from the wrapping public and domain service. While they can be called from other 
						private services as well, this is regarded bad design and should be refactored to call their wrapping public services. 
					</div></div><div class="section"><div class="titlepage"></div>
					Every service has a name, version, lifecycle state and governance approval state.					
				</div></div><div class="section" title="Defining services"><div class="titlepage"><div><div><h3 class="title"><a name="ServiceSyntax"></a>Defining services</h3></div></div></div>
				A service is defined in a domain namespace or internal namespace like this:
				<div class="example"><a name="N103D6"></a><p class="title"><b>Example&nbsp;3.7.&nbsp;</b></p><div class="example-contents"><a name="optionalAttribute"></a><pre class="programlisting">
	/*
		The CustomerEntityService loads, stores and find Customer instances
	*/
	public service CustomerEntityService {
		metadata {
			version 1.0
			lifecycle-state proposed
			governance-approval {
				yes
				approval-date "20.04.2011"
				approved-by "Anna Jacobson"
			}
			category entity
			statefulness stateful
			persistence read/write
		}
		
		// operations go here:
		sync getCustomerByName (optional firstName : string, lastname : string) 
			returns optional customers : Customer [] majorVersion 1
			throws CustomerNotFoundException 
		{
			requires SomeBackendService majorVersion 1
		}
	}
				</pre></div></div><br class="example-break"></div><div class="section" title="Service meta data"><div class="titlepage"><div><div><h3 class="title"><a name="ServiceMetadata"></a>Service meta data</h3></div></div></div><div class="table"><a name="serviceMetaData"></a><p class="title"><b>Table&nbsp;3.3.&nbsp;Properties</b></p><div class="table-contents"><table summary="Properties" border="1"><colgroup><col align="left"><col align="left"><col align="left"><col align="left"></colgroup><thead><tr><th align="left">Keyword</th><th align="left">Valid values</th><th align="left">Example</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">
									version
								</td><td align="left">
									INT('.'INT)*
								</td><td align="left">
<pre class="programlisting">version 1.0.1</pre>
								</td><td align="left">
									The service version.
								</td></tr><tr><td align="left">
									lifecycle-state
								</td><td align="left">
									proposed | defined | development | test | productive | deprecated | retired
								</td><td align="left">
									<pre class="programlisting">lifecycle-state defined</pre>
								</td><td align="left">
									The lifecycle state of the service with regard to SOA governance.
								</td></tr><tr><td align="left">
									governance-approval
								</td><td align="left">
									see definition of governance approval
								</td><td align="left">
									<pre class="programlisting">governance-approval {
	yes
	decision-on "01.02.2011"
	decision-by "John Miller"
}</pre>
								</td><td align="left">
									The state of the governance decision on the service.
								</td></tr><tr><td align="left">
									category
								</td><td align="left">
									process | activity | entity | rule | utility
								</td><td align="left">
									<pre class="programlisting">category activity</pre>
								</td><td align="left">
									The service category.
								</td></tr><tr><td align="left">
									statefulness
								</td><td align="left">
									idempotend | stateless | stateful
								</td><td align="left">
									<pre class="programlisting">statefulness stateless</pre>
								</td><td align="left">
									Whether the service can be repeatedly called with the same result (idempotend),
									is stateless or stateful.
								</td></tr><tr><td align="left">
									persistence
								</td><td align="left">
									read | write | read/write | none
								</td><td align="left">
									<pre class="programlisting">persistence read/write</pre>
								</td><td align="left">
									Whether data treaded by the service are persistent and read and/or written to a persistent store.
								</td></tr><tr><td align="left">
									service-owner
								</td><td align="left">
									STRING
								</td><td align="left">
									<pre class="programlisting">service-owner "Anna Morris "</pre>
								</td><td align="left">
									Who is responsible for the service?
								</td></tr><tr><td align="left">
									realizes-capabilty
								</td><td align="left">
									((Qualified)?CapabilityName VersionConstraint)+
								</td><td align="left">
									<pre class="programlisting">realizes-capabilty InvoiceCustomer fixedVersion 1 InvoiceMail fixedVersion 2</pre>
								</td><td align="left">
									Reference to one or more business capabilities that are fully realized by the service.
								</td></tr><tr><td align="left">
									supports-capabilty
								</td><td align="left">
									((Qualified)?CapabilityName VersionConstraint)+
								</td><td align="left">
									<pre class="programlisting">supports-capability InvoiceCustomer fixedVersion 1 InvoiceMail fixedVersion 2</pre>
								</td><td align="left">
									Reference to one or more business capabilities that are supported, but not fully realized by the service.
								</td></tr><tr><td align="left">
									provided-Contract-URL
								</td><td align="left">
									STRING
								</td><td align="left">
									<pre class="programlisting">provided-Contract-URL "http://somehost:someport/some.wsdl"</pre>
								</td><td align="left">
									Only for private services defined in internal namespaces. The location where the already existing contract of the service can be found.
								</td></tr><tr><td align="left">
									sourceURL
								</td><td align="left">
									STRING
								</td><td align="left">
									<pre class="programlisting">sourceURL "svn://somehost/somelocation"</pre>
								</td><td align="left">
									Where the sources can be found.
								</td></tr><tr><td align="left">
									docURL
								</td><td align="left">
									STRING
								</td><td align="left">
									<pre class="programlisting">docURL "svn://somehost/somelocation"</pre>
								</td><td align="left">
									Where the documentation or specification can be found.
								</td></tr><tr><td align="left">
									release-on
								</td><td align="left">
									STRING (Date)
								</td><td align="left">
									<pre class="programlisting">release-on "01.06.2010"</pre>
								</td><td align="left">
									The (planned) release date of the service.
								</td></tr><tr><td align="left">
									retirement-on
								</td><td align="left">
									STRING (Date)
								</td><td align="left">
									<pre class="programlisting">retirement-on "01.06.2014"</pre>
								</td><td align="left">
									The (planned) date of retirement of the service.
								</td></tr><tr><td align="left">
									replaces
								</td><td align="left">
									Reference to old service
								</td><td align="left">
									<pre class="programlisting">replaces OldServiceName majorVersion 1</pre>
								</td><td align="left">
									Used to rename services or move them to another namespace. The reference to the previous service is
									given here.
								</td></tr><tr><td align="left">
									messageHeader
								</td><td align="left">
									Reference to a MessageHeader definition
								</td><td align="left">
									<pre class="programlisting">messageHeader MyHeader majorVersion 1</pre>
								</td><td align="left">
									An alternative message header to be sent with each message. Usually a 
									default message header has been defined in the profile which is being 
									used when this attribute has not been defined, hence it is an override.
								</td></tr></tbody></table></div></div><br class="table-break"></div><div class="section" title="Operations"><div class="titlepage"><div><div><h3 class="title"><a name="Operations"></a>Operations</h3></div></div></div></div><div class="section" title="Parameters"><div class="titlepage"><div><div><h3 class="title"><a name="Parameters"></a>Parameters</h3></div></div></div></div></div></body></html>